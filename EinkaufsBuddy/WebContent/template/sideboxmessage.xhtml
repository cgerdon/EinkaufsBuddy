<ui:composition 
 	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">			
	
			
		<h1>Nachrichten: </h1>
			
		<h:form>
			
					<h:dataTable styleClass="messagesideboxtable" id="messageoverviewrepeat2" var="messageoverview" value="#{message.messageoverview}">
							<h:column>
							
									<h:commandButton styleClass="messagesideboxbutton" value="#{messageoverview.ms_receiverFirstName} #{messageoverview.ms_senderNamekurz}" action="#{message.showMessage}" rendered="#{messageoverview.ms_senderId != user.id}" >
										<f:param name="namevonmessage" value="#{messageoverview.ms_senderId}" />
									</h:commandButton>	
									<h:panelGroup styleClass="messagecycle" rendered="#{messageoverview.ms_anzahl > 0}">
										<h:outputText  value="#{messageoverview.ms_anzahl}" />
									</h:panelGroup>
							
							</h:column>
					</h:dataTable> 	
					
					<p:poll interval="2" listener="#{message.showAllMessageReload}" update="messageoverviewrepeat2"/>
		</h:form>
	
</ui:composition>

<ui:composition template="template/master.xhtml"
 	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
    
	<ui:define name="content">
		<h1>Das sind deine Nachrichten! </h1>
		
		
		
		
			
				<h:panelGroup>
					<h:outputText value="Nachrichten von: "/>
										
					<h:outputText value="#{message.ms_receiverFirstName} "/>
					<h:outputText value="#{message.ms_receiverLastName} (ID: "/>
					<h:outputText value="#{message.ms_receiverId})"/>
				</h:panelGroup>
				
		<h:form>			
		<h:panelGrid >
			
			 	<ui:repeat var="messageoverview" value="#{message.messageoverview}" > 
						<h:panelGroup rendered="#{messageoverview.ms_senderId != user.id}">					
						<h:outputText value="#{messageoverview.ms_receiverFirstName}"/>
						<h:outputText value="#{messageoverview.ms_receiverLastName}"/>
						</h:panelGroup>	
						<h:panelGroup rendered="#{messageoverview.ms_senderId != user.id}">
						<h:commandButton value="Nachrichtenverlauf ansehen" action="#{message.showMessage}">
							  <f:param name="namevonmessage" value="#{messageoverview.ms_senderId}" />
						</h:commandButton>
						</h:panelGroup>	
						<br/>
				</ui:repeat> 
			
	
			
			</h:panelGrid>
		</h:form>

	</ui:define>
  
</ui:composition>
